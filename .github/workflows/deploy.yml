# è„šæœ¬çš„åç§°
name: DeploymentGuide
# è§¦å‘çš„æ—¶æœº
on:
  push:
    branches: [main]

  pull_request:
    branches: [main]

# æ‰§è¡Œçš„ä»»åŠ¡
jobs: 
 # ä»»åŠ¡åç§°
  build-deploy:
    # æ‰§è¡Œç¯å¢ƒï¼Œé»˜è®¤æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Ubuntuç³»ç»Ÿ
    runs-on: ubuntu-latest
    steps: 
       # ä¸‹è½½æºç 
      - name: Checkout ğŸ’
        uses: actions/checkout@master

       # æ‰“åŒ…æ„å»º
      - run: npm install
      - run: npm run build

      # deploy
      - name: Deploy ğŸš€
        # è¿™ä¸ªæ˜¯ç¬¬ä¸‰æ–¹æä¾›çš„åº“ï¼Œå¯ä»¥æ¨é€æ‰“åŒ…åçš„å†…å®¹åˆ°æŒ‡å®šåˆ†æ”¯
        user: peaceiris/actions-gh-pages@v3
        with:
          # è¿™è¾¹éœ€è¦è®¾ç½®ç¬¬äºŒæ­¥è·å–åˆ°çš„deploy keyï¼Œå¦åˆ™ä¼šæç¤ºæ²¡æœ‰æƒé™æ¨é€ä»£ç 
          deploy_key: ${{ secrets.VUEPRESSCI }}
          # æ¨é€åˆ°è¯¥ä»“åº“ä¸­ï¼Œåœ°å€æ ¼å¼ä¸ºgithubåç§°/ä»“åº“å
          external_repository: DanielLeefu/DeploymentGuide
          # æ¨é€çš„åˆ†æ”¯
          publish_branch: gh-pages
          # æ¨é€çš„å†…å®¹
          publish_dir: docs/.vuepress/dist


